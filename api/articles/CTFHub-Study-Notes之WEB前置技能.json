{"title":"CTFHub Study Notes之WEB前置技能","uid":"db14ed79e25e2047bb8e4e5987ac7f7d","slug":"CTFHub-Study-Notes之WEB前置技能","date":"2020-03-21T11:22:05.000Z","updated":"2020-04-13T00:47:00.000Z","comments":true,"path":"api/articles/CTFHub-Study-Notes之WEB前置技能.json","keywords":"A1andNS","cover":[],"content":"<p>最近从学长那里听说了一个新上线的网站CTFHub感觉挺不错了，技能树，比赛日历，工具都有。感觉真的降低了CTF入门门槛。所以赶紧技能树上学习一下。</p>\n<h2 id=\"WEB前置技能之HTTP-Protocol\"><a href=\"#WEB前置技能之HTTP-Protocol\" class=\"headerlink\" title=\"WEB前置技能之HTTP Protocol\"></a>WEB前置技能之HTTP Protocol</h2><h3 id=\"请求方法\"><a href=\"#请求方法\" class=\"headerlink\" title=\"请求方法\"></a>请求方法</h3><p>打开环境是一个提示：</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302113837906.png\" alt=\"image-20200302113837906\"></p>\n<p>他要求我们使用CTFHUB方法来访问这个网页，所以我使用了burpsuite抓包转到repeat修改GET为CTFHUB，发送就会在响应html里面看到Flag了。</p>\n<p>Flag：ctfhub{a409e8f53e716af57704afb09005258c61455c34}</p>\n<h3 id=\"302跳转\"><a href=\"#302跳转\" class=\"headerlink\" title=\"302跳转\"></a>302跳转</h3><p>打开网页就是一个flag不在这里，然后给你一个链接按钮，所以使用burpsuit抓包看看，点击按钮，抓到了一个请求包，转到repeat，重发，flag就出现在眼前。多亏了burpsuit不显示重定向内容，一下就拿到了flag。</p>\n<p>这题主要就是考察302状态码。302重定向又称之为暂时性转移(Temporarily Moved )，英文名称：302 redirect。 也被认为是暂时重定向（temporary redirect），一条对网站浏览器的指令来显示浏览器被要求显示的不同的URL，当一个网页经历过短期的URL的变化时使用。一个暂时重定向是一种服务器端的重定向，能够被搜索引擎蜘蛛正确地处理。</p>\n<h3 id=\"Cookie\"><a href=\"#Cookie\" class=\"headerlink\" title=\"Cookie\"></a>Cookie</h3><p>打开网页提示“你好游客，只有管理员才可以得到Flag”</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/1.png\" alt=\"1.png\">这就是在考身份识别，一般web程序是通过cookie来判断访问者身份的。所以我看来一下Cookie，发现Cookie值为admin=0.</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302122002043.png\" alt=\"image-20200302122002043\"></p>\n<p>这个很明显，那我就用burpsuit吧cookie改为admin=1，重发。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302122105650.png\" alt=\"image-20200302122105650\"></p>\n<p>这样就得到Flag是ctfhub{e77b75702bf48f5d0e7ae439a59c04af7435f82f}</p>\n<h3 id=\"基础认证\"><a href=\"#基础认证\" class=\"headerlink\" title=\"基础认证\"></a>基础认证</h3><h4 id=\"知识\"><a href=\"#知识\" class=\"headerlink\" title=\"知识\"></a>知识</h4><p>在HTTP中，基本认证（英语：Basic access authentication）是允许http用户代理（如：网页浏览器）在请求时，提供 用户名 和 密码 的一种方式。在进行基本认证的过程里，请求的HTTP头字段会包含Authorization字段，形式如下： Authorization: Basic &lt;凭证&gt;，该凭证是用户和密码的组和的base64编码。</p>\n<pre class=\"line-numbers language-http\" data-language=\"http\"><code class=\"language-http\"><span class=\"token request-line\"><span class=\"token property\">GET</span> /private/index.html HTTP/1.0</span>\n<span class=\"token header-name keyword\">Host:</span> localhost\n<span class=\"token header-name keyword\">Authorization:</span> Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\n（来源自Wikipedia）<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"解题\"><a href=\"#解题\" class=\"headerlink\" title=\"解题\"></a>解题</h4><p>了解了这个HTTP请求头字段的语法结构后，开始解题了。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302132833216.png\" alt=\"image-20200302132833216\"></p>\n<p>点开看看什么情况</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302132859330.png\" alt=\"image-20200302132859330\"></p>\n<p>弹框要用户密码，这里很明显用户名是admin，密码是什么，我不知道，看看题目的附件</p>\n<img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302133502011.png\" alt=\"image-20200302133502011\" style=\"zoom:50%;\" />\n\n<p>是密码字典。我得写一个脚本，把base64文本转换出来。</p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> base64\n \nf<span class=\"token operator\">=</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'1.txt'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span>\nt<span class=\"token operator\">=</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2.txt'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'w'</span><span class=\"token punctuation\">)</span>\nlines<span class=\"token operator\">=</span>f<span class=\"token punctuation\">.</span>readlines<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> line <span class=\"token keyword\">in</span> lines<span class=\"token punctuation\">:</span>\n    AU<span class=\"token operator\">=</span><span class=\"token string\">\"admin:\"</span><span class=\"token operator\">+</span>line<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token string\">'\\n'</span><span class=\"token punctuation\">)</span>\n    AU64<span class=\"token operator\">=</span>base64<span class=\"token punctuation\">.</span>b64encode<span class=\"token punctuation\">(</span>AU<span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    AU2 <span class=\"token operator\">=</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>AU64<span class=\"token punctuation\">,</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>AU2<span class=\"token punctuation\">)</span>\n    t<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>AU2<span class=\"token punctuation\">)</span>\n    t<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span>\n \nf<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nt<span class=\"token punctuation\">.</span>close<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token triple-quoted-string string\">'''\npython3中字符默认为Unicode所以直接使用base64.b64encode(AU)会报错，所以就要先把AU转换为UTF-8编码，在进行base64处理，写入也是一样的要先转换成字符串，才可以写入文件。\n'''</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302143656913.png\" alt=\"image-20200302143656913\"></p>\n<p>然后使用burpsuit去爆破。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302143711855.png\" alt=\"image-20200302141417783\"></p>\n<p>发现一个状态码为200的数据包，打开看一下。</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302143711855.png\" alt=\"image-20200302143711855\"></p>\n<p>Flag就出现了</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/image-20200302143903510.png\" alt=\"image-20200302143903510\"></p>\n<p>Flag就是ctfhub{380cc962a1f1e144aebae39f25a1e1bcd2d0de94}</p>\n<h3 id=\"响应包源代码\"><a href=\"#响应包源代码\" class=\"headerlink\" title=\"响应包源代码\"></a>响应包源代码</h3><p>考察HTTP响应包源代码查看。直接抓包看响应源代码，发现Flag被注释在响应源代码里。</p>\n<p>Flag就是</p>\n<p>ctfhub{544027f05162a779f19331e384dd1233a56d4dbe}</p>\n","text":"最近从学长那里听说了一个新上线的网站CTFHub感觉挺不错了，技能树，比赛日历，工具都有。感觉真的降低了CTF入门门槛。所以赶紧技能树上学习一下。 WEB前置技能之HTTP Protocol请求方法打开环境是一个提示： 他要求我们使用CTFHUB方法来访问这个网页，所以我使用了b...","link":"","photos":[],"count_time":{"symbolsCount":"1.8k","symbolsTime":"2 mins."},"categories":[{"name":"CTF","slug":"CTF","count":43,"path":"api/categories/CTF.json"}],"tags":[{"name":"WEB","slug":"WEB","count":39,"path":"api/tags/WEB.json"},{"name":"网络安全","slug":"网络安全","count":32,"path":"api/tags/网络安全.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#WEB%E5%89%8D%E7%BD%AE%E6%8A%80%E8%83%BD%E4%B9%8BHTTP-Protocol\"><span class=\"toc-text\">WEB前置技能之HTTP Protocol</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%AF%B7%E6%B1%82%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">请求方法</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#302%E8%B7%B3%E8%BD%AC\"><span class=\"toc-text\">302跳转</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Cookie\"><span class=\"toc-text\">Cookie</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9F%BA%E7%A1%80%E8%AE%A4%E8%AF%81\"><span class=\"toc-text\">基础认证</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E7%9F%A5%E8%AF%86\"><span class=\"toc-text\">知识</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E9%A2%98\"><span class=\"toc-text\">解题</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%93%8D%E5%BA%94%E5%8C%85%E6%BA%90%E4%BB%A3%E7%A0%81\"><span class=\"toc-text\">响应包源代码</span></a></li></ol></li></ol>","author":{"name":"A1andNS","slug":"blog-author","avatar":"/svg/head.png","link":"/","description":"爱你所爱，行你所行，听从你心，无问西东","socials":{"github":"https://github.com/A1andNS","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Python学习之坐标图绘制","uid":"439b59e344fc9da785bc717e07f565f5","slug":"Python学习之坐标图绘制","date":"2020-03-23T14:20:26.000Z","updated":"2020-04-13T00:47:16.000Z","comments":true,"path":"api/articles/Python学习之坐标图绘制.json","keywords":"A1andNS","cover":"https://cdn.jsdelivr.net/gh/A1andNS/picgo/img/20200323233608.png","text":"今天学习了一下matplotlib绘制坐标图的相关内容，原来就听说过Python适合数据科学，果然如此。通过matplotlib库可以绘制出函数图形，还可以对某些区域进行阴影化处理，这对于函数绘制和科学计算很有帮助。Python果然是让人喜爱。 运行环境 系统：Windows 1...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"Python学习","slug":"Python学习","count":19,"path":"api/categories/Python学习.json"}],"tags":[{"name":"Python","slug":"Python","count":23,"path":"api/tags/Python.json"}],"author":{"name":"A1andNS","slug":"blog-author","avatar":"/svg/head.png","link":"/","description":"爱你所爱，行你所行，听从你心，无问西东","socials":{"github":"https://github.com/A1andNS","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Java的开始","uid":"1cbaef790a7e9f45426aa60a0be84446","slug":"Java的开始","date":"2020-03-21T10:37:06.000Z","updated":"2020-04-13T00:46:14.000Z","comments":true,"path":"api/articles/Java的开始.json","keywords":"A1andNS","cover":"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1584797250934&di=7c8cf327145401b1534a2902f687257f&imgtype=0&src=http%3A%2F%2Fs7.51cto.com%2Fwyfs02%2FM01%2F73%2F3F%2FwKioL1X4zfyRH-yTAABu41grSmY047.jpg","text":"最近开始学习Java程序设计了，说是面向对象的程序设计。面向对象确实是要好好研究了，面向过程编程是注重解决问题的步骤，而面向对象编程则是侧重于模块化组成也就是构成吧。所以大多数的大的团队项目都是使用java去进行的，就是看重面向对象的特性，大家可以分别专门专注于一个对象的面向过程...","link":"","photos":[],"count_time":{"symbolsCount":802,"symbolsTime":"1 mins."},"categories":[{"name":"Java学习","slug":"Java学习","count":6,"path":"api/categories/Java学习.json"}],"tags":[{"name":"Java","slug":"Java","count":6,"path":"api/tags/Java.json"}],"author":{"name":"A1andNS","slug":"blog-author","avatar":"/svg/head.png","link":"/","description":"爱你所爱，行你所行，听从你心，无问西东","socials":{"github":"https://github.com/A1andNS","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}