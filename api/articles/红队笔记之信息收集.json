{"title":"红队笔记之信息收集","uid":"da6ed4d1b273841409dae7ff8549e8c6","slug":"红队笔记之信息收集","date":"2021-11-02T11:03:33.000Z","updated":"2021-11-04T04:34:33.661Z","comments":true,"path":"api/articles/红队笔记之信息收集.json","keywords":"A1andNS","cover":[],"content":"<h1 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h1><p>渗透测试第一步，就是信息收集。信息收集很大程度为后续工作打下基础。针对目标资产和主机进行信息收集是必不可少的的部分，也是至关重要的部分。</p>\n<h1 id=\"Nmap篇\"><a href=\"#Nmap篇\" class=\"headerlink\" title=\"Nmap篇\"></a>Nmap篇</h1><p>nmap是最常用的一个主机扫描工具，也为大家所熟知。你可以在这里Nmap官网：<a href=\"https://nmap.org/%E4%B8%8B%E8%BD%BD%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8apt%E5%91%BD%E4%BB%A4%E7%9B%B4%E6%8E%A5%E5%AE%89%E8%A3%85%EF%BC%88Debian%E7%B3%BB%E5%88%97%E7%9A%84Linux%E7%8E%AF%E5%A2%83%E4%B8%8B%EF%BC%89%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5man%E4%B8%80%E4%B8%8B%E6%9F%A5%E7%9C%8B%EF%BC%8Cnmap%E6%8F%90%E4%BE%9B%E4%BA%86%E4%B8%B0%E5%AF%8C%E7%9A%84%E6%89%AB%E6%8F%8F%E6%A8%A1%E5%BC%8F%EF%BC%8C%E4%B9%9F%E6%98%AF%E6%B6%B5%E7%9B%96%E4%BA%86%E6%88%91%E4%BB%AC%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8E%A2%E6%B5%8B%E6%96%B9%E5%BC%8F%E4%BA%86%EF%BC%9A\">https://nmap.org/下载，也可以使用apt命令直接安装（Debian系列的Linux环境下），使用方法我们可以man一下查看，nmap提供了丰富的扫描模式，也是涵盖了我们常用的探测方式了：</a></p>\n<p><strong>看法：适合用于内网主机存活（系统）探测、主机端口（服务、版本）探测、常见漏洞检测</strong></p>\n<h2 id=\"TCP扫描\"><a href=\"#TCP扫描\" class=\"headerlink\" title=\"TCP扫描\"></a>TCP扫描</h2><p>扫描流程如下：</p>\n<ol>\n<li><p>发送SYN  </p>\n</li>\n<li><p>回复ACK则是LISTEN，回复RST则CLOSED </p>\n</li>\n<li><p>回复ACK</p>\n</li>\n</ol>\n<p>扫描参数：<strong>nmap -sT</strong></p>\n<p>特点：TCP连接，容易被察觉和留下痕迹</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -sT 192.168.133.132\n\nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 07:24 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.0019s latency).\nNot shown: 992 filtered ports\nPORT     STATE SERVICE\n25&#x2F;tcp   open  smtp\n110&#x2F;tcp  open  pop3\n135&#x2F;tcp  open  msrpc\n139&#x2F;tcp  open  netbios-ssn\n445&#x2F;tcp  open  microsoft-ds\n902&#x2F;tcp  open  iss-realsecure\n912&#x2F;tcp  open  apex-mesh\n5357&#x2F;tcp open  wsdapi\n\nNmap done: 1 IP address (1 host up) scanned in 9.72 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"SYN半开连接\"><a href=\"#SYN半开连接\" class=\"headerlink\" title=\"SYN半开连接\"></a>SYN半开连接</h2><p>扫描流程：</p>\n<ol>\n<li>发送SYN</li>\n<li>回复ACK+SYN 则LISTEN，回复RST 则CLOSED，不回复则过滤了</li>\n<li>发送RST断开连接</li>\n</ol>\n<p>扫描参数：<strong>nmap -sS</strong></p>\n<p>特点：应用程序没有日志、行踪隐蔽</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">#要求使用root权限扫描\n┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -sS 192.168.133.132  \n\nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 07:23 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.0027s latency).\nNot shown: 992 filtered ports\nPORT     STATE SERVICE\n25&#x2F;tcp   open  smtp\n110&#x2F;tcp  open  pop3\n135&#x2F;tcp  open  msrpc\n139&#x2F;tcp  open  netbios-ssn\n445&#x2F;tcp  open  microsoft-ds\n902&#x2F;tcp  open  iss-realsecure\n912&#x2F;tcp  open  apex-mesh\n5357&#x2F;tcp open  wsdapi\n\nNmap done: 1 IP address (1 host up) scanned in 5.28 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>感觉SYN比TCP是更好的，他可以有效隐蔽自己，但是需要root权限，只有root权限在自己手中方可进行。</p>\n<h2 id=\"ACK扫描\"><a href=\"#ACK扫描\" class=\"headerlink\" title=\"ACK扫描\"></a>ACK扫描</h2><p>扫描流程：</p>\n<ol>\n<li><p>发送ACK</p>\n</li>\n<li><p>接收RST包TTL小于64开启，大于64关闭</p>\n</li>\n</ol>\n<p>扫描参数：<strong>nmap -sA</strong></p>\n<p>特点：速度很快，效果欠佳</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -sA 192.168.133.132\n\nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 07:35 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.000056s latency).\nAll 1000 scanned ports on 192.168.133.132 are unfiltered\n\nNmap done: 1 IP address (1 host up) scanned in 0.36 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"UDP扫描\"><a href=\"#UDP扫描\" class=\"headerlink\" title=\"UDP扫描\"></a>UDP扫描</h2><p>扫描流程：</p>\n<ol>\n<li><p>发送UDP包</p>\n</li>\n<li><p>返回ICMP_PORT_UNREACH为关闭，否则打开</p>\n</li>\n</ol>\n<p>扫描参数：nmap -sU</p>\n<p>特点：速度慢、无连接不可靠、对方有可能会禁用UDP</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -sU 192.168.133.132\n\nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 07:37 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.00068s latency).\nAll 1000 scanned ports on 192.168.133.132 are open|filtered\n\nNmap done: 1 IP address (1 host up) scanned in 22.17 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"常用的扫描组合\"><a href=\"#常用的扫描组合\" class=\"headerlink\" title=\"常用的扫描组合\"></a>常用的扫描组合</h2><h3 id=\"扫描1-10000的端口、详细信息（操作系统、版本…）\"><a href=\"#扫描1-10000的端口、详细信息（操作系统、版本…）\" class=\"headerlink\" title=\"扫描1-10000的端口、详细信息（操作系统、版本…）\"></a>扫描1-10000的端口、详细信息（操作系统、版本…）</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># nmap -T4 -A 目标\n# -T&lt;0-5&gt;是时间模板，数字越大，速度越快\n# -A是详细信息\n┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -T4 -A  192.168.133.132\n\nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 07:46 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.0014s latency).\nNot shown: 993 filtered ports\nPORT    STATE SERVICE         VERSION\n25&#x2F;tcp  open  tcpwrapped\n|_smtp-commands: Couldn&#39;t establish connection on port 25\n110&#x2F;tcp open  tcpwrapped\n135&#x2F;tcp open  msrpc           Microsoft Windows RPC\n139&#x2F;tcp open  netbios-ssn     Microsoft Windows netbios-ssn\n445&#x2F;tcp open  microsoft-ds?\n902&#x2F;tcp open  ssl&#x2F;vmware-auth VMware Authentication Daemon 1.10 (Uses VNC, SOAP)\n912&#x2F;tcp open  vmware-auth     VMware Authentication Daemon 1.0 (Uses VNC, SOAP)\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\nDevice type: general purpose\nRunning: Microsoft Windows XP|7|2012\nOS CPE: cpe:&#x2F;o:microsoft:windows_xp::sp3 cpe:&#x2F;o:microsoft:windows_7 cpe:&#x2F;o:microsoft:windows_server_2012\nOS details: Microsoft Windows XP SP3, Microsoft Windows XP SP3 or Windows 7 or Windows Server 2012\nNetwork Distance: 2 hops\nService Info: OS: Windows; CPE: cpe:&#x2F;o:microsoft:windows\n\nHost script results:\n|_clock-skew: -1s\n| smb2-security-mode: \n|   2.02: \n|_    Message signing enabled but not required\n| smb2-time: \n|   date: 2021-11-02T11:46:33\n|_  start_date: N&#x2F;A\n\nTRACEROUTE (using port 25&#x2F;tcp)\nHOP RTT     ADDRESS\n1   1.52 ms 192.168.133.2\n2   1.54 ms 192.168.133.132\n\nOS and Service detection performed. Please report any incorrect results at https:&#x2F;&#x2F;nmap.org&#x2F;submit&#x2F; .\nNmap done: 1 IP address (1 host up) scanned in 43.43 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>可以看到-A扫描是一次很全面的查询，一次查询多个项目。</p>\n<h3 id=\"版本探测\"><a href=\"#版本探测\" class=\"headerlink\" title=\"版本探测\"></a>版本探测</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># nmap -sV 目标\n# 正如选项所写scan Version\n# 用于探测端口服务的版本，但是速度很慢\n┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -sV  192.168.133.132\n\nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 08:23 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.0013s latency).\nNot shown: 992 filtered ports\nPORT     STATE SERVICE         VERSION\n25&#x2F;tcp   open  tcpwrapped\n110&#x2F;tcp  open  tcpwrapped\n135&#x2F;tcp  open  msrpc           Microsoft Windows RPC\n139&#x2F;tcp  open  netbios-ssn     Microsoft Windows netbios-ssn\n445&#x2F;tcp  open  microsoft-ds?\n902&#x2F;tcp  open  ssl&#x2F;vmware-auth VMware Authentication Daemon 1.10 (Uses VNC, SOAP)\n912&#x2F;tcp  open  vmware-auth     VMware Authentication Daemon 1.0 (Uses VNC, SOAP)\n5357&#x2F;tcp open  http            Microsoft HTTPAPI httpd 2.0 (SSDP&#x2F;UPnP)\nService Info: OS: Windows; CPE: cpe:&#x2F;o:microsoft:windows\n\nService detection performed. Please report any incorrect results at https:&#x2F;&#x2F;nmap.org&#x2F;submit&#x2F; .\nNmap done: 1 IP address (1 host up) scanned in 22.96 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"操作系统探测\"><a href=\"#操作系统探测\" class=\"headerlink\" title=\"操作系统探测\"></a>操作系统探测</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># sudo nmap -O 目标\n# 要求root权限运行\n# 检查目标主机操作系统，但是很多时候只能判断大体系统为windows&#x2F;unix&#x2F;linux，很难确认到底是什么版本仅供参考的。\n┌──(kali㉿kali)-[~]\n└─$ sudo nmap -O 192.168.133.132                                         \n[sudo] password for kali: \nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 08:30 EDT\nNmap scan report for 192.168.133.132\nHost is up (0.0024s latency).\nNot shown: 992 filtered ports\nPORT     STATE SERVICE\n25&#x2F;tcp   open  smtp\n110&#x2F;tcp  open  pop3\n135&#x2F;tcp  open  msrpc\n139&#x2F;tcp  open  netbios-ssn\n445&#x2F;tcp  open  microsoft-ds\n902&#x2F;tcp  open  iss-realsecure\n912&#x2F;tcp  open  apex-mesh\n5357&#x2F;tcp open  wsdapi\nWarning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed port\nDevice type: WAP|phone\nRunning: Linux 2.4.X|2.6.X, Sony Ericsson embedded\nOS CPE: cpe:&#x2F;o:linux:linux_kernel:2.4.20 cpe:&#x2F;o:linux:linux_kernel:2.6.22 cpe:&#x2F;h:sonyericsson:u8i_vivaz\nOS details: Tomato 1.28 (Linux 2.4.20), Tomato firmware (Linux 2.6.22), Sony Ericsson U8i Vivaz mobile phone\n\nOS detection performed. Please report any incorrect results at https:&#x2F;&#x2F;nmap.org&#x2F;submit&#x2F; .\nNmap done: 1 IP address (1 host up) scanned in 7.46 seconds\n                                                              <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"扫描内网主机存活\"><a href=\"#扫描内网主机存活\" class=\"headerlink\" title=\"扫描内网主机存活\"></a>扫描内网主机存活</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># nmap -sP 目标\n# 用来查看内网存活的主机\n┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nmap -sP  192.168.133.0&#x2F;24                                                                         \nStarting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-11-02 08:42 EDT\nNmap scan report for 192.168.133.1\nHost is up (0.00044s latency).\nMAC Address: 00:50:56:C0:00:08 (VMware)\nNmap scan report for 192.168.133.2\nHost is up (0.00038s latency).\nMAC Address: 00:50:56:EE:98:ED (VMware)\nNmap scan report for 192.168.133.254\nHost is up (0.00023s latency).\nMAC Address: 00:50:56:FE:F9:62 (VMware)\nNmap scan report for 192.168.133.132\nHost is up.\nNmap done: 256 IP addresses (4 hosts up) scanned in 28.19 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"扫描常见的漏洞\"><a href=\"#扫描常见的漏洞\" class=\"headerlink\" title=\"扫描常见的漏洞\"></a>扫描常见的漏洞</h3><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># nmap --script vuln 目标\n# --script选项还可以选很多其他lua脚本<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h1 id=\"masscan篇\"><a href=\"#masscan篇\" class=\"headerlink\" title=\"masscan篇\"></a>masscan篇</h1><p>第一次听说masscan实在一次CTF的理论赛环节，Masscan号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网。不过这个工具给我的感觉确实比nmap要快。</p>\n<p>masscan为kali自带的。也可以自行安装。</p>\n<p><strong>看法：适合用于主机端口扫描</strong></p>\n<p>masscan这个工具主要有以下常用之方法：</p>\n<h2 id=\"单端口扫描\"><a href=\"#单端口扫描\" class=\"headerlink\" title=\"单端口扫描\"></a>单端口扫描</h2><p>扫描参数：<strong>masscan 目标 -p端口号</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo masscan 192.168.133.132 -p445                                                                                                                                                                     \nStarting masscan 1.3.2 (http:&#x2F;&#x2F;bit.ly&#x2F;14GZzcT) at 2021-11-03 09:09:08 GMT\nInitiating SYN Stealth Scan\nScanning 1 hosts [1 port&#x2F;host]\nDiscovered open port 445&#x2F;tcp on 192.168.133.132                                \n                                                     <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"多端口扫描\"><a href=\"#多端口扫描\" class=\"headerlink\" title=\"多端口扫描\"></a>多端口扫描</h2><p>扫描参数：</p>\n<ol>\n<li><strong>masscan 目标 -p端口1,端口2</strong></li>\n<li><strong>masscan 目标 -p端口1-端口2</strong></li>\n</ol>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo masscan 192.168.133.132 -p445,80,443,135                                                                                                                                                              \nStarting masscan 1.3.2 (http:&#x2F;&#x2F;bit.ly&#x2F;14GZzcT) at 2021-11-03 09:14:54 GMT\nInitiating SYN Stealth Scan\nScanning 1 hosts [4 ports&#x2F;host]\nDiscovered open port 445&#x2F;tcp on 192.168.133.132                                 \nDiscovered open port 135&#x2F;tcp on 192.168.133.132  \n\n┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo masscan 192.168.133.132 -p1-1000                                                                                                                                                                       \nStarting masscan 1.3.2 (http:&#x2F;&#x2F;bit.ly&#x2F;14GZzcT) at 2021-11-03 09:19:30 GMT\nInitiating SYN Stealth Scan\nScanning 1 hosts [1000 ports&#x2F;host]\nDiscovered open port 135&#x2F;tcp on 192.168.133.132                                  \nDiscovered open port 139&#x2F;tcp on 192.168.133.132                            \nDiscovered open port 25&#x2F;tcp on 192.168.133.132                       \nDiscovered open port 912&#x2F;tcp on 192.168.133.132                           \nDiscovered open port 110&#x2F;tcp on 192.168.133.132                              \nDiscovered open port 902&#x2F;tcp on 192.168.133.132                              \nDiscovered open port 445&#x2F;tcp on 192.168.133.132<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"扫描一个网段的所有端口\"><a href=\"#扫描一个网段的所有端口\" class=\"headerlink\" title=\"扫描一个网段的所有端口\"></a>扫描一个网段的所有端口</h2><p>扫描参数：<strong>masscan 目标/24 –rate 100000</strong></p>\n<p>-rate参数用于调节每秒发送的数据包个数，在masscan中默认速度为100个/s，这显然是很慢的,这里我是采用了100000个/s，但是要注意一个点，这里的rate需要适当，对方信息系统的承受能力我们无法清楚了解，如果我们的rate过高了，很有可能就会对其造成DOS攻击了。</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo masscan 192.168.133.132&#x2F;24 -p0-65535 --rate 100000                                                                                                                                               \nStarting masscan 1.3.2 (http:&#x2F;&#x2F;bit.ly&#x2F;14GZzcT) at 2021-11-03 09:27:19 GMT\nInitiating SYN Stealth Scan\nScanning 256 hosts [65536 ports&#x2F;host]\nDiscovered open port 53&#x2F;tcp on 192.168.133.2   <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h1 id=\"Nbtscan\"><a href=\"#Nbtscan\" class=\"headerlink\" title=\"Nbtscan\"></a>Nbtscan</h1><p>互联网搜索引擎nbtscan是一个扫描WINDOWS网络NetBIOS信息的小工具，2005年11月23日发布。NBTSCAN身材娇小，简单快速。但只能用于局域网，可以显示IP，主机名，用户名称和MAC地址等等。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># github项目主页\nhttps:&#x2F;&#x2F;github.com&#x2F;search?q&#x3D;nbtscan<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>看法：适合用于内网/局域网主机发现</strong></p>\n<p>该工具已经由kali Linux自带了，常见的扫描方式有一下的几种：</p>\n<h2 id=\"扫描整个C段\"><a href=\"#扫描整个C段\" class=\"headerlink\" title=\"扫描整个C段\"></a>扫描整个C段</h2><p>扫描参数：<strong>nbtscan -r 目标/24</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nbtscan -r 192.168.133.0&#x2F;24                                                                                                                                                                            \nDoing NBT name scan for addresses from 192.168.133.0&#x2F;24\n\nIP address       NetBIOS Name     Server    User             MAC address      \n------------------------------------------------------------------------------\n192.168.133.13     LAPTOP-99206HMC  &lt;server&gt;  &lt;unknown&gt;        00:2b:67:2c:13:8e\n192.168.133.115    DESKTOP-S9A091T  &lt;server&gt;  &lt;unknown&gt;        b0:7b:25:3e:6b:68<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"扫描一个范围\"><a href=\"#扫描一个范围\" class=\"headerlink\" title=\"扫描一个范围\"></a>扫描一个范围</h2><p>扫描参数：<strong>nbtscan 目标（起始）-目标（结尾）</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo nbtscan 192.168.133.0-100                                                                                                                                                                         130 ⨯ 2 ⚙\n[sudo] password for kali: \nDoing NBT name scan for addresses from 192.168.133.0-100\n\nIP address       NetBIOS Name     Server    User             MAC address      \n------------------------------------------------------------------------------\n192.168.133.13     LAPTOP-99206HMC  &lt;server&gt;  &lt;unknown&gt;        00:2b:67:2c:13:8e\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"以符号分割显示结果\"><a href=\"#以符号分割显示结果\" class=\"headerlink\" title=\"以符号分割显示结果\"></a>以符号分割显示结果</h2><p>扫描参数：<strong>nbtscan -v -s  符号 目标</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ nbtscan -v -s : 192.168.133.0&#x2F;24                                                                                                                                                                             2 ⚙\n192.168.133.13:LAPTOP-99206HMC:00U\n192.168.133.13:WORKGROUP      :00G\n192.168.133.13:LAPTOP-99206HMC:20U\n192.168.133.13:MAC:00:2b:67:2c:13:8e\n192.168.133.115:DESKTOP-S9A091T:00U\n192.168.133.115:WORKGROUP      :00G\n192.168.133.115:DESKTOP-S9A091T:20U\n192.168.133.115:MAC:b0:7b:25:3e:6b:68\n192.168.133.118:LAPTOP-ONIVL0MA:20U\n192.168.133.118:WORKGROUP      :00G\n192.168.133.118:LAPTOP-ONIVL0MA:00U\n192.168.133.118:MAC:00:e0:4c:36:17:4b<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"扫描文件里的目标范围\"><a href=\"#扫描文件里的目标范围\" class=\"headerlink\" title=\"扫描文件里的目标范围\"></a>扫描文件里的目标范围</h2><p>扫描参数：<strong>nbtscan -f 文件名</strong></p>\n<p>在文件中写入一个ip字典，使用-f参数可以导入ip字典中的ip进行探测，和其他工具引用字典原理一样。</p>\n<h1 id=\"Hping3\"><a href=\"#Hping3\" class=\"headerlink\" title=\"Hping3\"></a>Hping3</h1><p>hping3是一款免费的数据包生成器和分析器。可用于安全审计、防火墙规则测试、网络测试、端口扫描、性能测试，压力测试(DOS)，几乎可以发送任意类型的TCP/IP数据包。功能强大但是每次只能向一个IP地址发送数据包，还能够在两个相互包含的通道之间传送文件。</p>\n<p>download link：<a href=\"http://www.hping.org/download.html\">http://www.hping.org/download.html</a></p>\n<p><strong>看法：适合用于DOS、路由跟踪、ICMP网络测试、主机端口扫描</strong></p>\n<p>About Hping3 usage，you can <code>man hping3</code></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n用法: hping3 host [options]\n  -h  --help      显示帮助\n  -v  --version   显示版本\n  -c  --count     发送数据包的数目\n  -i  --interval  发送数据包间隔的时间 (uX即X微秒, 例如：-i u1000)\n      --fast      等同 -i u10000 (每秒10个包)\n      --faster    等同 -i u1000 (每秒100个包)\n      --flood    尽最快发送数据包，不显示回复。\n  -n  --numeric   数字化输出，象征性输出主机地址。\n  -q  --quiet     安静模式\n  -I  --interface 网卡接口 (默认路由接口)\n  -V  --verbose   详细模式\n  -D  --debug     调试信息\n  -z  --bind      绑定ctrl+z到ttl(默认为目的端口)\n  -Z  --unbind    取消绑定ctrl+z键\n      --beep      对于接收到的每个匹配数据包蜂鸣声提示\n\n模式选择\n  default mode     TCP   &#x2F;&#x2F; 默认模式是 TCP\n  -0  --rawip      RAWIP模式，原始IP模式。在此模式下HPING会发送带数据的IP头。即裸IP方式。使用RAWSOCKET方式。\n  -1  --icmp       ICMP模式，此模式下HPING会发送IGMP应答报，你可以用--ICMPTYPE --ICMPCODE选项发送其他类型&#x2F;模式的ICMP报文。\n  -2  --udp        UDP 模式，缺省下，HPING会发送UDP报文到主机的0端口，你可以用--baseport --destport --keep选项指定其模式。\n  -8  --scan       SCAN mode. &#x2F;&#x2F;扫描模式 指定扫描对应的端口。\n                   Example: hping --scan 1-30,70-90 -S www.target.host    &#x2F;&#x2F; 扫描\n  -9  --listen     listen mode  &#x2F;&#x2F; 监听模式\n  \nIP 模式\n  -a  --spoof      spoof source address  &#x2F;&#x2F;源地址欺骗。伪造IP攻击，防火墙就不会记录你的真实IP了，当然回应的包你也接收不到了。\n  --rand-dest      random destionation address mode. see the man. &#x2F;&#x2F; 随机目的地址模式。详细使用 man 命令\n  --rand-source    random source address mode. see the man.       &#x2F;&#x2F; 随机源地址模式。详细使用 man 命令\n  -t  --ttl        ttl (默认 64)  &#x2F;&#x2F;修改 ttl 值\n  -N  --id         id (默认 随机)  &#x2F;&#x2F; hping 中的 ID 值，缺省为随机值\n  -W  --winid      使用win* id字节顺序  &#x2F;&#x2F;使用winid模式，针对不同的操作系统。UNIX ,WINDIWS的id回应不同的，这选项可以让你的ID回应和WINDOWS一样。\n  -r  --rel        相对id字段(估计主机流量)  &#x2F;&#x2F;更改ID的，可以让ID曾递减输出，详见HPING-HOWTO。\n  -f  --frag       拆分数据包更多的frag.  (may pass weak acl)   &#x2F;&#x2F;分段，可以测试对方或者交换机碎片处理能力，缺省16字节。\n  -x  --morefrag   设置更多的分段标志    &#x2F;&#x2F; 大量碎片，泪滴攻击。\n  -y  --dontfrag   设置不分段标志    &#x2F;&#x2F; 发送不可恢复的IP碎片，这可以让你了解更多的MTU PATH DISCOVERY。\n  -g  --fragoff    set the fragment offset    &#x2F;&#x2F; 设置断偏移。\n  -m  --mtu        设置虚拟最大传输单元, implies --frag if packet size &gt; mtu    &#x2F;&#x2F; 设置虚拟MTU值，当大于mtu的时候分段。\n  -o  --tos        type of service (default 0x00), try --tos help          &#x2F;&#x2F; tos字段，缺省0x00，尽力而为？\n  -G  --rroute     includes RECORD_ROUTE option and display the route buffer    &#x2F;&#x2F; 记录IP路由，并显示路由缓冲。\n  --lsrr           松散源路由并记录路由        &#x2F;&#x2F; 松散源路由\n  --ssrr           严格源路由并记录路由      &#x2F;&#x2F; 严格源路由\n  -H  --ipproto    设置IP协议字段，仅在RAW IP模式下使用   &#x2F;&#x2F;在RAW IP模式里选择IP协议。设置ip协议域，仅在RAW ip模式使用。\n\nICMP 模式\n  -C  --icmptype   icmp类型(默认echo请求)    &#x2F;&#x2F; ICMP类型，缺省回显请求。\n  -K  --icmpcode   icmp代号(默认0)     &#x2F;&#x2F; ICMP代码。\n      --force-icmp 发送所有icmp类型(默认仅发送支持的类型)    &#x2F;&#x2F; 强制ICMP类型。\n      --icmp-gw    设置ICMP重定向网关地址(默认0.0.0.0)    &#x2F;&#x2F; ICMP重定向\n      --icmp-ts    等同 --icmp --icmptype 13 (ICMP 时间戳)            &#x2F;&#x2F; icmp时间戳\n      --icmp-addr  等同 --icmp --icmptype 17 (ICMP 地址子网掩码)  &#x2F;&#x2F; icmp子网地址\n      --icmp-help  显示其他icmp选项帮助      &#x2F;&#x2F; ICMP帮助\n\nUDP&#x2F;TCP 模式\n  -s  --baseport   base source port             (default random)              &#x2F;&#x2F; 缺省随机源端口\n  -p  --destport   [+][+]&lt;port&gt; destination port(default 0) ctrl+z inc&#x2F;dec    &#x2F;&#x2F; 缺省随机源端口\n  -k  --keep       keep still source port      &#x2F;&#x2F; 保持源端口\n  -w  --win        winsize (default 64)        &#x2F;&#x2F; win的滑动窗口。windows发送字节(默认64)\n  -O  --tcpoff     set fake tcp data offset     (instead of tcphdrlen &#x2F; 4)    &#x2F;&#x2F; 设置伪造tcp数据偏移量(取代tcp地址长度除4)\n  -Q  --seqnum     shows only tcp sequence number        &#x2F;&#x2F; 仅显示tcp序列号\n  -b  --badcksum   (尝试)发送具有错误IP校验和数据包。许多系统将修复发送数据包的IP校验和。所以你会得到错误UDP&#x2F;TCP校验和。\n  -M  --setseq     设置TCP序列号 \n  -L  --setack     设置TCP的ack   ------------------------------------- (不是 TCP 的 ACK 标志位)\n  -F  --fin        set FIN flag\n  -S  --syn        set SYN flag\n  -R  --rst        set RST flag\n  -P  --push       set PUSH flag\n  -A  --ack        set ACK flag   ------------------------------------- （设置 TCP 的 ACK 标志 位）\n  -U  --urg        set URG flag      &#x2F;&#x2F; 一大堆IP抱头的设置。\n  -X  --xmas       set X unused flag (0x40)\n  -Y  --ymas       set Y unused flag (0x80)\n  --tcpexitcode    使用last tcp-&gt; th_flags作为退出码\n  --tcp-mss        启用具有给定值的TCP MSS选项\n  --tcp-timestamp  启用TCP时间戳选项来猜测HZ&#x2F;uptime\n\nCommon &#x2F;&#x2F;通用设置\n  -d  --data       data size    (default is 0)    &#x2F;&#x2F; 发送数据包大小，缺省是0。\n  -E  --file       文件数据\n  -e  --sign       添加“签名”\n  -j  --dump       转储为十六进制数据包\n  -J  --print      转储为可打印字符\n  -B  --safe       启用“安全”协议\n  -u  --end        告诉你什么时候--file达到EOF并防止倒回\n  -T  --traceroute traceroute模式(等同使用 --bind 且--ttl 1)\n  --tr-stop        在traceroute模式下收到第一个不是ICMP时退出\n  --tr-keep-ttl    保持源TTL固定，仅用于监视一跳\n  --tr-no-rtt     不要在跟踪路由模式下计算&#x2F;显示RTT信息 ARS包描述（新增功能，不稳定）\nARS packet description (new, unstable)\n  --apd-send       发送APD描述数据包(参见docs &#x2F; APD.txt)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"ICMP测试\"><a href=\"#ICMP测试\" class=\"headerlink\" title=\"ICMP测试\"></a>ICMP测试</h2><p>扫描参数：<strong>hping3 -1 目标 （类似于ping命令）</strong></p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo hping3 -1 192.168.133.2                                                                                                                                                                          \n[sudo] password for kali: \nHPING 192.168.133.2 (eth0 192.168.133.2): icmp mode set, 28 headers + 0 data bytes\nlen&#x3D;46 ip&#x3D;192.168.133.2 ttl&#x3D;128 id&#x3D;3459 icmp_seq&#x3D;0 rtt&#x3D;2.6 ms\nlen&#x3D;46 ip&#x3D;192.168.133.2 ttl&#x3D;128 id&#x3D;3460 icmp_seq&#x3D;1 rtt&#x3D;6.8 ms\nlen&#x3D;46 ip&#x3D;192.168.133.2 ttl&#x3D;128 id&#x3D;3461 icmp_seq&#x3D;2 rtt&#x3D;5.3 ms\nlen&#x3D;46 ip&#x3D;192.168.133.2 ttl&#x3D;128 id&#x3D;3462 icmp_seq&#x3D;3 rtt&#x3D;5.2 ms\nlen&#x3D;46 ip&#x3D;192.168.133.2 ttl&#x3D;128 id&#x3D;3463 icmp_seq&#x3D;4 rtt&#x3D;4.2 ms\nlen&#x3D;46 ip&#x3D;192.168.133.2 ttl&#x3D;128 id&#x3D;3464 icmp_seq&#x3D;5 rtt&#x3D;6.3 ms\n^C\n--- 192.168.133.2 hping statistic ---\n6 packets transmitted, 6 packets received, 0% packet loss\nround-trip min&#x2F;avg&#x2F;max &#x3D; 2.6&#x2F;5.1&#x2F;6.8 ms\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"SYN方式扫描主机端口\"><a href=\"#SYN方式扫描主机端口\" class=\"headerlink\" title=\"SYN方式扫描主机端口\"></a>SYN方式扫描主机端口</h2><p>扫描参数：<strong>hping3 –scan 端口范围 -S 目标</strong></p>\n<p>-s选项表示SYN模式</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo hping3 --scan 1-3389 -S  192.168.133.2                                                                                                                                                               \nScanning 192.168.133.2 (192.168.133.2), port 1-3389\n3389 ports to scan, use -V to see all the replies\n+----+-----------+---------+---+-----+-----+-----+\n|port| serv name |  flags  |ttl| id  | win | len |\n+----+-----------+---------+---+-----+-----+-----+\n   53 domain     : .S..A... 128 11278 64240    46\nAll replies received. Done.\nNot responding ports: \n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>上面的flags内容为.S..A…暨SYN/ACK</p>\n<h2 id=\"数据包追踪\"><a href=\"#数据包追踪\" class=\"headerlink\" title=\"数据包追踪\"></a>数据包追踪</h2><p>类似于traceroute命令，路由跟踪</p>\n<p>扫描参数：<strong>hping3 –T -V -1</strong> <strong><a href=\"http://www.baidu.com/\">www.baidu.com</a></strong></p>\n<p>-1表示ICMP模式，-T表示路由跟踪，-V详细信息</p>\n<h2 id=\"进行洪水攻击\"><a href=\"#进行洪水攻击\" class=\"headerlink\" title=\"进行洪水攻击\"></a>进行洪水攻击</h2><p>扫描参数：<strong>hping3 -S –flood –rand-source -p 80 目标</strong></p>\n<p>–flood就是要泛洪，–rand-source是为了随机伪造IP源地址，flood attack is a DoS attack.</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">┌──(kali㉿kali)-[~&#x2F;Desktop]\n└─$ sudo hping3 -S --flood --rand-source -p 80 172.31.62.250                                                                                                                                                   \nHPING 172.31.62.250 (eth0 172.31.62.250): S set, 40 headers + 0 data bytes\nhping in flood mode, no replies will be shown\n^C\n--- 172.31.62.250 hping statistic ---\n4232679 packets transmitted, 0 packets received, 100% packet loss\nround-trip min&#x2F;avg&#x2F;max &#x3D; 0.0&#x2F;0.0&#x2F;0.0 ms\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>可以看到我们在进行dos的过程中发送了4232679个数据包。我在进行dos攻击的时候，由于是半连接攻击，确实实现了对web服务器的dos攻击，并且事后查看web服务器nginx的access日志也不会有任何记录。这也是SYN探测的优点，半连接未建立完全连接，所以apache或nginx的日志文件中不会进行记录。</p>\n<h1 id=\"Pydictor\"><a href=\"#Pydictor\" class=\"headerlink\" title=\"Pydictor\"></a>Pydictor</h1><p>pydictor 是一个强大实用的黑客暴力破解字典建立工具</p>\n<p>GitHub项目首页：<a href=\"https://github.com/LandGrey/pydictor/\">https://github.com/LandGrey/pydictor/</a></p>\n<p>官方手册语法：<a href=\"https://github.com/LandGrey/pydictor/blob/master/README_CN.md\">https://github.com/LandGrey/pydictor/blob/master/README_CN.md</a></p>\n<p>详细使用方法：python3 pydictor.py -h</p>\n<p><strong>常见的字典生成模式：</strong></p>\n<h2 id=\"生成纯数字字典\"><a href=\"#生成纯数字字典\" class=\"headerlink\" title=\"生成纯数字字典\"></a>生成纯数字字典</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">python3 pydictor.py -base d --len 1 6    # 生成1-6位纯数字密码字典\npython3 pydictor.py -base d --len 6 6    # 生成6位纯数字密码字典\n\n┌──(kali㉿kali)-[~&#x2F;Desktop&#x2F;InfoCollect&#x2F;pydictor]\n└─$ .&#x2F;pydictor.py -base d  --len 1 6                                                                         \n\n[+] A total of :1111110 lines\n[+] Store in   :&#x2F;home&#x2F;kali&#x2F;Desktop&#x2F;InfoCollect&#x2F;pydictor&#x2F;results&#x2F;base_001117.txt \n[+] Cost       :3.7301 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://gitee.com/A1andNS/blogimage/raw/master/img/image-20211104121352065.png\" alt=\"image-20211104121352065\"></p>\n<h2 id=\"生成数字-字母字典\"><a href=\"#生成数字-字母字典\" class=\"headerlink\" title=\"生成数字+字母字典\"></a>生成数字+字母字典</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">python3 pydictor.py -base dL --len 1 3    # 生成1-3位数字小写字母混合密码\n# 你还可以自行进行搭配和组合，相关选项的参数你-h都可以查看到<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"根据社会工程学生成字典\"><a href=\"#根据社会工程学生成字典\" class=\"headerlink\" title=\"根据社会工程学生成字典\"></a>根据社会工程学生成字典</h2><p>这个东西还是挺不错的，里面提供的选项也很多，你可以根据你各种手段收集到的个人信息来生成这样的一个社会工程学字典。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">python3 pydictor.py --sedb\npydictor SEDB&gt;&gt;set cname Alice\ncname      :Alice\npydictor SEDB&gt;&gt;set phone 9089875\nphone      :9089875\npydictor SEDB&gt;&gt;set email alice@alice.com\nemail      :alice@alice.com\npydictor SEDB&gt;&gt;run\n[+] A total of :3190 lines\n[+] Store in   :&#x2F;home&#x2F;kali&#x2F;Desktop&#x2F;InfoCollect&#x2F;pydictor&#x2F;results&#x2F;sedb_002345.txt \n[+] Cost       :0.1178 seconds\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n\n<h1 id=\"参考链接\"><a href=\"#参考链接\" class=\"headerlink\" title=\"参考链接\"></a>参考链接</h1><ol>\n<li><a href=\"https://mp.weixin.qq.com/s/_9qMu-CUKTTMAVCSZMBzUA\">https://mp.weixin.qq.com/s/_9qMu-CUKTTMAVCSZMBzUA</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/nmVIXDYf78WZye7GDFzD0g\">https://mp.weixin.qq.com/s/nmVIXDYf78WZye7GDFzD0g</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/0xDAS4I1LUwg6EknROcqVg\">https://mp.weixin.qq.com/s/0xDAS4I1LUwg6EknROcqVg</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/G1rBIzNGb0SqVDGQtTIOAg\">https://mp.weixin.qq.com/s/G1rBIzNGb0SqVDGQtTIOAg</a></li>\n<li><a href=\"https://mp.weixin.qq.com/s/H0lEiU21jdjg6aAEeHQN3g\">https://mp.weixin.qq.com/s/H0lEiU21jdjg6aAEeHQN3g</a></li>\n</ol>\n","text":"前言渗透测试第一步，就是信息收集。信息收集很大程度为后续工作打下基础。针对目标资产和主机进行信息收集是必不可少的的部分，也是至关重要的部分。 Nmap篇nmap是最常用的一个主机扫描工具，也为大家所熟知。你可以在这里Nmap官网：https://nmap.org/下载，也可以使用...","link":"","photos":[],"count_time":{"symbolsCount":"22k","symbolsTime":"20 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":35,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"红队","slug":"红队","count":1,"path":"api/tags/红队.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Nmap%E7%AF%87\"><span class=\"toc-text\">Nmap篇</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#TCP%E6%89%AB%E6%8F%8F\"><span class=\"toc-text\">TCP扫描</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SYN%E5%8D%8A%E5%BC%80%E8%BF%9E%E6%8E%A5\"><span class=\"toc-text\">SYN半开连接</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ACK%E6%89%AB%E6%8F%8F\"><span class=\"toc-text\">ACK扫描</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#UDP%E6%89%AB%E6%8F%8F\"><span class=\"toc-text\">UDP扫描</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%89%AB%E6%8F%8F%E7%BB%84%E5%90%88\"><span class=\"toc-text\">常用的扫描组合</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F1-10000%E7%9A%84%E7%AB%AF%E5%8F%A3%E3%80%81%E8%AF%A6%E7%BB%86%E4%BF%A1%E6%81%AF%EF%BC%88%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E3%80%81%E7%89%88%E6%9C%AC%E2%80%A6%EF%BC%89\"><span class=\"toc-text\">扫描1-10000的端口、详细信息（操作系统、版本…）</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%89%88%E6%9C%AC%E6%8E%A2%E6%B5%8B\"><span class=\"toc-text\">版本探测</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%8E%A2%E6%B5%8B\"><span class=\"toc-text\">操作系统探测</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BA%E5%AD%98%E6%B4%BB\"><span class=\"toc-text\">扫描内网主机存活</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F%E5%B8%B8%E8%A7%81%E7%9A%84%E6%BC%8F%E6%B4%9E\"><span class=\"toc-text\">扫描常见的漏洞</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#masscan%E7%AF%87\"><span class=\"toc-text\">masscan篇</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8D%95%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F\"><span class=\"toc-text\">单端口扫描</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%A4%9A%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F\"><span class=\"toc-text\">多端口扫描</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F%E4%B8%80%E4%B8%AA%E7%BD%91%E6%AE%B5%E7%9A%84%E6%89%80%E6%9C%89%E7%AB%AF%E5%8F%A3\"><span class=\"toc-text\">扫描一个网段的所有端口</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Nbtscan\"><span class=\"toc-text\">Nbtscan</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F%E6%95%B4%E4%B8%AAC%E6%AE%B5\"><span class=\"toc-text\">扫描整个C段</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F%E4%B8%80%E4%B8%AA%E8%8C%83%E5%9B%B4\"><span class=\"toc-text\">扫描一个范围</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%A5%E7%AC%A6%E5%8F%B7%E5%88%86%E5%89%B2%E6%98%BE%E7%A4%BA%E7%BB%93%E6%9E%9C\"><span class=\"toc-text\">以符号分割显示结果</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%AB%E6%8F%8F%E6%96%87%E4%BB%B6%E9%87%8C%E7%9A%84%E7%9B%AE%E6%A0%87%E8%8C%83%E5%9B%B4\"><span class=\"toc-text\">扫描文件里的目标范围</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Hping3\"><span class=\"toc-text\">Hping3</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ICMP%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">ICMP测试</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#SYN%E6%96%B9%E5%BC%8F%E6%89%AB%E6%8F%8F%E4%B8%BB%E6%9C%BA%E7%AB%AF%E5%8F%A3\"><span class=\"toc-text\">SYN方式扫描主机端口</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%8C%85%E8%BF%BD%E8%B8%AA\"><span class=\"toc-text\">数据包追踪</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%9B%E8%A1%8C%E6%B4%AA%E6%B0%B4%E6%94%BB%E5%87%BB\"><span class=\"toc-text\">进行洪水攻击</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Pydictor\"><span class=\"toc-text\">Pydictor</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%94%9F%E6%88%90%E7%BA%AF%E6%95%B0%E5%AD%97%E5%AD%97%E5%85%B8\"><span class=\"toc-text\">生成纯数字字典</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%94%9F%E6%88%90%E6%95%B0%E5%AD%97-%E5%AD%97%E6%AF%8D%E5%AD%97%E5%85%B8\"><span class=\"toc-text\">生成数字+字母字典</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%A0%B9%E6%8D%AE%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6%E7%94%9F%E6%88%90%E5%AD%97%E5%85%B8\"><span class=\"toc-text\">根据社会工程学生成字典</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5\"><span class=\"toc-text\">参考链接</span></a></li></ol>","author":{"name":"A1andNS","slug":"blog-author","avatar":"/svg/head.png","link":"/","description":"爱你所爱，行你所行，听从你心，无问西东","socials":{"github":"https://github.com/A1andNS","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"长安杯2021高校组WEB部分","uid":"3b1f17f810cefe376d3cc7273932f8df","slug":"长安杯2021高校组WEB部分","date":"2021-10-01T11:31:54.000Z","updated":"2021-10-01T11:37:59.000Z","comments":true,"path":"api/articles/长安杯2021高校组WEB部分.json","keywords":"A1andNS","cover":"https://gitee.com/A1andNS/blogimage/raw/master//img/202110011937274.png","text":"EzPyjwtcrack进行secret爆破， 密钥：CTf4r 伪造token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjoiYWRtaW4iLCJwYXNzd2QiOiJhZG1pbiIsInVpZCI6ImNmNTVhOG...","link":"","photos":[],"count_time":{"symbolsCount":401,"symbolsTime":"1 mins."},"categories":[{"name":"CTF","slug":"CTF","count":43,"path":"api/categories/CTF.json"}],"tags":[{"name":"CTF","slug":"CTF","count":15,"path":"api/tags/CTF.json"}],"author":{"name":"A1andNS","slug":"blog-author","avatar":"/svg/head.png","link":"/","description":"爱你所爱，行你所行，听从你心，无问西东","socials":{"github":"https://github.com/A1andNS","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}